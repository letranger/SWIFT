<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-05-12 Wed 20:50 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Combine</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Yung Chin, Yen" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">
html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}body{color:#000;background-color:#fff}.org-alert-high{color:#ff8c00;font-weight:700}.org-alert-low{color:#00008b}.org-alert-moderate{color:gold;font-weight:700}.org-alert-saved-fringe{background-color:#f2f2f2}.org-alert-trivial{color:Dark purple}.org-alert-urgent{color:red;font-weight:700}.org-anzu-match-1{color:#000;background-color:#7fffd4}.org-anzu-match-2{color:#000;background-color:#00ff7f}.org-anzu-match-3{color:#000;background-color:#ff0}.org-anzu-mode-line,.org-anzu-mode-line-no-match{color:#008b00;font-weight:700}.org-anzu-replace-highlight{color:#b0e2ff;background-color:#cd00cd}.org-anzu-replace-to{color:red}.org-bbdb-field-name{color:sienna}.org-bbdb-name{color:#00f}.org-bbdb-organization{color:#b22222}.org-beacon-fallback-background{background-color:#000}.org-biblio-results-header{color:#483d8b;font-size:150%;font-weight:700}.org-bold{font-weight:700}.org-bold-italic{font-weight:700;font-style:italic}.org-bookmark-menu-bookmark{font-weight:700}.org-bookmark-menu-heading{color:#228b22}.org-buffer-menu-buffer{font-weight:700}.org-builtin{color:#483d8b}.org-button{color:#3a5fcd;text-decoration:underline}.org-c-annotation{color:#008b8b}.org-cal-china-x-general-holiday{background-color:#228b22}.org-cal-china-x-important-holiday{background-color:#8b0000}.org-calendar-iso-week{color:pink;font-weight:700}.org-calendar-iso-week-header{color:#0ff}.org-calendar-month-header{color:#00f}.org-calendar-today{text-decoration:underline}.org-calendar-weekday-header{color:#008b8b}.org-calendar-weekend-header{color:#b22222}.org-comint-highlight-input{font-weight:700}.org-comint-highlight-prompt{color:#0000cd}.org-comment,.org-comment-delimiter{color:#b22222}.org-compilation-column-number{color:#8b2252}.org-compilation-error{color:red;font-weight:700}.org-compilation-info{color:#228b22;font-weight:700}.org-compilation-line-number{color:#a020f0}.org-compilation-mode-line-exit{color:#228b22;font-weight:700}.org-compilation-mode-line-fail{color:red;font-weight:700}.org-compilation-mode-line-run,.org-compilation-warning{color:#ff8c00;font-weight:700}.org-completions-annotations{font-style:italic}.org-completions-first-difference{font-weight:700}.org-constant{color:#008b8b}.org-cursor{background-color:#eead0e}.org-custom-button{color:#000;background-color:#d3d3d3}.org-custom-button-mouse{color:#000;background-color:#e5e5e5}.org-custom-button-pressed{color:#000;background-color:#d3d3d3}.org-custom-button-pressed-unraised{color:#8b008b;text-decoration:underline}.org-custom-button-unraised{text-decoration:underline}.org-custom-changed{color:#fff;background-color:#00f}.org-custom-comment{background-color:#d9d9d9}.org-custom-comment-tag{color:#00008b}.org-custom-face-tag{color:#00f;font-weight:700}.org-custom-group-subtitle{font-weight:700}.org-custom-group-tag{color:#00f;font-size:120%;font-weight:700}.org-custom-group-tag-1{color:red;font-size:120%;font-weight:700}.org-custom-invalid{color:#ff0;background-color:red}.org-custom-link{color:#3a5fcd;text-decoration:underline}.org-custom-modified{color:#fff;background-color:#00f}.org-custom-rogue{color:pink;background-color:#000}.org-custom-saved{text-decoration:underline}.org-custom-set{color:#00f;background-color:#fff}.org-custom-state{color:#006400}.org-custom-themed{color:#fff;background-color:#00f}.org-custom-variable-button{font-weight:700;text-decoration:underline}.org-custom-variable-tag{color:#00f;font-weight:700}.org-custom-visibility{color:#3a5fcd;font-size:80%;text-decoration:underline}.org-diary{color:red}.org-diary-anniversary{color:#a020f0}.org-diary-time{color:sienna}.org-dired-async-failures{color:red}.org-dired-async-message{color:#ff0}.org-dired-async-mode-message{color:gold}.org-dired-directory{color:#00f}.org-dired-flagged{color:red;font-weight:700}.org-dired-header{color:#228b22}.org-dired-ignored{color:#7f7f7f}.org-dired-mark{color:#008b8b}.org-dired-marked{color:#ff8c00;font-weight:700}.org-dired-perm-write{color:#b22222}.org-dired-symlink{color:#a020f0}.org-dired-warning{color:red;font-weight:700}.org-doc{color:#8b2252}.org-eldoc-highlight-function-argument{font-weight:700}.org-epa-field-body{font-style:italic}.org-epa-field-name,.org-epa-mark{font-weight:700}.org-epa-mark{color:red}.org-epa-string{color:#00008b}.org-epa-validity-disabled{font-style:italic}.org-epa-validity-high{font-weight:700}.org-epa-validity-low,.org-epa-validity-medium{font-style:italic}.org-error{color:red;font-weight:700}.org-escape-glyph{color:brown}.org-evil-ex-commands{font-style:italic;text-decoration:underline}.org-evil-ex-info{color:red;font-style:italic}.org-evil-ex-lazy-highlight{background-color:#afeeee}.org-evil-ex-search{color:#b0e2ff;background-color:#cd00cd}.org-evil-ex-substitute-matches{background-color:#afeeee}.org-evil-ex-substitute-replacement{color:red;text-decoration:underline}.org-ffap{background-color:#b4eeb4}.org-file-name-shadow{color:#7f7f7f}.org-flycheck-error{text-decoration:underline}.org-flycheck-error-list-checker-name{color:#00f}.org-flycheck-error-list-column-number{color:#008b8b}.org-flycheck-error-list-error{color:red;font-weight:700}.org-flycheck-error-list-filename{color:sienna}.org-flycheck-error-list-highlight{background-color:#b4eeb4}.org-flycheck-error-list-id,.org-flycheck-error-list-id-with-explainer{color:#228b22}.org-flycheck-error-list-info{color:#228b22;font-weight:700}.org-flycheck-error-list-line-number{color:#008b8b}.org-flycheck-error-list-warning{color:#ff8c00;font-weight:700}.org-flycheck-fringe-error{color:red;font-weight:700}.org-flycheck-fringe-info{color:#228b22;font-weight:700}.org-flycheck-fringe-warning{color:#ff8c00;font-weight:700}.org-flycheck-info,.org-flycheck-warning,.org-flyspell-duplicate,.org-flyspell-incorrect{text-decoration:underline}.org-fringe{background-color:#f2f2f2}.org-function-name{color:#00f}.org-glyphless-char{font-size:60%}.org-golden-ratio-scroll-highlight-line{color:#fff;background-color:#53868b;font-weight:700}.org-header-line{color:#333;background-color:#e5e5e5}.org-helm-action{text-decoration:underline}.org-helm-bookmark-addressbook{color:tomato}.org-helm-bookmark-directory{color:#8b0000;background-color:#d3d3d3}.org-helm-bookmark-file{color:#00b2ee}.org-helm-bookmark-file-not-found{color:#6c7b8b}.org-helm-bookmark-gnus{color:#f0f}.org-helm-bookmark-info{color:#0f0}.org-helm-bookmark-man{color:#8b5a00}.org-helm-bookmark-w3m{color:#ff0}.org-helm-buffer-archive{color:gold}.org-helm-buffer-directory{color:#8b0000;background-color:#d3d3d3}.org-helm-buffer-file{color:#483d8b}.org-helm-buffer-modified{color:#b22222}.org-helm-buffer-not-saved{color:#ee6363}.org-helm-buffer-process{color:#cd6839}.org-helm-buffer-saved-out{color:red;background-color:#000}.org-helm-buffer-size{color:#708090}.org-helm-candidate-number,.org-helm-candidate-number-suspended{color:#000;background-color:#faffb5}.org-helm-delete-async-message{color:#ff0}.org-helm-etags-file{color:#8b814c;text-decoration:underline}.org-helm-ff-denied{color:red;background-color:#000}.org-helm-ff-directory{color:#8b0000;background-color:#d3d3d3}.org-helm-ff-dirs{color:#00f}.org-helm-ff-dotted-directory{color:#000;background-color:#696969}.org-helm-ff-dotted-symlink-directory{color:#ff8c00;background-color:#696969}.org-helm-ff-executable{color:#0f0}.org-helm-ff-file{color:#483d8b}.org-helm-ff-invalid-symlink{color:#000;background-color:red}.org-helm-ff-pipe{color:#ff0;background-color:#000}.org-helm-ff-prefix{color:#000;background-color:#ff0}.org-helm-ff-socket{color:#ff1493}.org-helm-ff-suid{color:#fff;background-color:red}.org-helm-ff-symlink{color:#b22222}.org-helm-ff-truename{color:#8b2252}.org-helm-grep-cmd-line{color:#228b22}.org-helm-grep-file{color:#8a2be2;text-decoration:underline}.org-helm-grep-finish{color:#0f0}.org-helm-grep-lineno{color:#ff7f00}.org-helm-grep-match{color:#b00000}.org-helm-header{color:#333;background-color:#e5e5e5}.org-helm-header-line-left-margin{color:#000;background-color:#ff0}.org-helm-helper{color:#333;background-color:#e5e5e5}.org-helm-history-deleted{color:#000;background-color:red}.org-helm-history-remote{color:#ff6a6a}.org-helm-lisp-completion-info{color:red}.org-helm-lisp-show-completion{background-color:#2f4f4f}.org-helm-locate-finish{color:#0f0}.org-helm-m-x-key{color:orange;text-decoration:underline}.org-helm-match{color:#b00000}.org-helm-match-item{color:#b0e2ff;background-color:#cd00cd}.org-helm-minibuffer-prompt{color:#0000cd}.org-helm-moccur-buffer{color:#00ced1;text-decoration:underline}.org-helm-non-file-buffer{font-style:italic}.org-helm-prefarg{color:red}.org-helm-resume-need-update{background-color:red}.org-helm-selection{background-color:#097209}.org-helm-selection-line{background-color:#b4eeb4}.org-helm-separator{color:#ffbfb5}.org-helm-source-header{color:#000;background-color:#abd7f0;font-size:130%;font-weight:700}.org-helm-visible-mark{background-color:#d1f5ea}.org-help-argument-name{font-style:italic}.org-highlight{background-color:#b4eeb4}.org-highlight-indent-guides-character{color:#e6e6e6}.org-highlight-indent-guides-even{background-color:#e6e6e6}.org-highlight-indent-guides-odd{background-color:#f3f3f3}.org-highlight-indent-guides-stack-character{color:#ccc}.org-highlight-indent-guides-stack-even{background-color:#ccc}.org-highlight-indent-guides-stack-odd{background-color:#d9d9d9}.org-highlight-indent-guides-top-character{color:#b3b3b3}.org-highlight-indent-guides-top-even{background-color:#b3b3b3}.org-highlight-indent-guides-top-odd{background-color:silver}.org-highlight-numbers-number{color:#008b8b}.org-hl-line{background-color:#b4eeb4}.org-holiday{background-color:pink}.org-hydra-face-amaranth{color:#e52b50;font-weight:700}.org-hydra-face-blue{color:#00f;font-weight:700}.org-hydra-face-pink{color:#ff6eb4;font-weight:700}.org-hydra-face-red{color:red;font-weight:700}.org-hydra-face-teal{color:#367588;font-weight:700}.org-ido-first-match{font-weight:700}.org-ido-incomplete-regexp{color:red;font-weight:700}.org-ido-indicator{color:#ff0;background-color:red}.org-ido-only-match{color:#228b22}.org-ido-subdir{color:red}.org-ido-virtual{color:#483d8b}.org-info-header-node{color:brown;font-weight:700;font-style:italic}.org-info-header-xref{color:#3a5fcd;text-decoration:underline}.org-info-index-match{background-color:#ff0}.org-info-menu-header{font-weight:700}.org-info-menu-star{color:red}.org-info-node{color:brown;font-weight:700;font-style:italic}.org-info-title-1{font-size:172%;font-weight:700}.org-info-title-2{font-size:144%;font-weight:700}.org-info-title-3{font-size:120%;font-weight:700}.org-info-title-4{font-weight:700}.org-info-xref{color:#3a5fcd;text-decoration:underline}.org-isearch{color:#b0e2ff;background-color:#cd00cd}.org-isearch-fail{background-color:#ffc1c1}.org-italic{font-style:italic}.org-keyword{color:#a020f0}.org-lazy-highlight{background-color:#afeeee}.org-link{color:#3a5fcd;text-decoration:underline}.org-link-visited{color:#8b008b;text-decoration:underline}.org-lv-separator{background-color:#ccc}.org-match{background-color:#ff0}.org-mcXcursor-bar{background-color:#000}.org-mcXregion{background-color:gtk_selection_bg_color}.org-me-dired-dim-0{color:#b3b3b3}.org-me-dired-dim-1{color:#7f7f7f}.org-me-dired-executable{color:#0f0}.org-message-cited-text{color:red}.org-message-header-cc{color:#191970}.org-message-header-name{color:#6495ed}.org-message-header-newsgroups{color:#00008b;font-weight:700;font-style:italic}.org-message-header-other{color:#4682b4}.org-message-header-subject{color:navy;font-weight:700}.org-message-header-to{color:#191970;font-weight:700}.org-message-header-xheader{color:#00f}.org-message-mml{color:#228b22}.org-message-separator{color:brown}.org-minibuffer-prompt{color:#0000cd}.org-mm-command-output{color:#cd0000}.org-mode-line{color:#000;background-color:#bfbfbf}.org-mode-line-buffer-id,.org-mode-line-buffer-id-inactive,.org-mode-line-emphasis{font-weight:700}.org-mode-line-inactive{color:#333;background-color:#e5e5e5}.org-mu4e-attach-number{color:sienna;font-weight:700}.org-mu4e-cited-1{color:#483d8b;font-style:italic}.org-mu4e-cited-2{color:#5cacee;font-style:italic}.org-mu4e-cited-3{color:sienna;font-style:italic}.org-mu4e-cited-4{color:#a020f0;font-style:italic}.org-mu4e-cited-5,.org-mu4e-cited-6{color:#b22222;font-style:italic}.org-mu4e-cited-7{color:#228b22;font-style:italic}.org-mu4e-compose-header,.org-mu4e-compose-separator{color:brown;font-style:italic}.org-mu4e-contact{color:sienna}.org-mu4e-context{color:#006400;font-weight:700}.org-mu4e-draft{color:#8b2252}.org-mu4e-flagged{color:#008b8b;font-weight:700}.org-mu4e-footer{color:#b22222}.org-mu4e-forwarded{color:#483d8b}.org-mu4e-header{color:#000;background-color:#fff}.org-mu4e-header-highlight{background-color:#000;font-weight:700;text-decoration:underline}.org-mu4e-header-key{color:#6495ed;font-weight:700}.org-mu4e-header-marks{color:#483d8b}.org-mu4e-header-title,.org-mu4e-header-value{color:#228b22}.org-mu4e-highlight{background-color:#b4eeb4}.org-mu4e-link{color:#3a5fcd;text-decoration:underline}.org-mu4e-modeline{color:#8b4500;font-weight:700}.org-mu4e-moved{color:#b22222;font-style:italic}.org-mu4e-ok{color:#b22222;font-weight:700}.org-mu4e-region-code{background-color:#2f4f4f}.org-mu4e-replied,.org-mu4e-special-header-value{color:#483d8b}.org-mu4e-system{color:#b22222;font-style:italic}.org-mu4e-title{color:#228b22;font-weight:700}.org-mu4e-trashed{color:#b22222;text-decoration:line-through}.org-mu4e-unread{color:#a020f0;font-weight:700}.org-mu4e-url-number{color:#008b8b;font-weight:700}.org-mu4e-view-body{color:#000;background-color:#fff}.org-mu4e-warning{color:red;font-weight:700}.org-next-error{background-color:gtk_selection_bg_color}.org-nobreak-space{color:brown;text-decoration:underline}.org-org-agenda-calendar-event,.org-org-agenda-calendar-sexp{color:#000;background-color:#fff}.org-org-agenda-clocking{background-color:#ff0}.org-org-agenda-column-dateline{background-color:#e5e5e5}.org-org-agenda-current-time{color:#b8860b}.org-org-agenda-date{color:#00f}.org-org-agenda-date-today{color:#00f;font-weight:700;font-style:italic}.org-org-agenda-date-weekend{color:#00f;font-weight:700}.org-org-agenda-diary{color:#000;background-color:#fff}.org-org-agenda-dimmed-todo{color:#7f7f7f}.org-org-agenda-done{color:#228b22}.org-org-agenda-filter-category,.org-org-agenda-filter-effort,.org-org-agenda-filter-regexp,.org-org-agenda-filter-tags{color:#000;background-color:#bfbfbf}.org-org-agenda-restriction-lock{background-color:#eee}.org-org-agenda-structure{color:#00f}.org-org-archived{color:#7f7f7f}.org-org-block{color:#7f7f7f}.org-org-block-begin-line,.org-org-block-end-line{color:#b22222}.org-org-checkbox{font-weight:700}.org-org-checkbox-statistics-done{color:#228b22;font-weight:700}.org-org-checkbox-statistics-todo{color:red;font-weight:700}.org-org-clock-overlay{color:#000;background-color:#d3d3d3}.org-org-code{color:#7f7f7f}.org-org-column,.org-org-column-title{background-color:#e5e5e5}.org-org-column-title{font-weight:700;text-decoration:underline}.org-org-date{color:#bfaf87;text-decoration:underline}.org-org-date-selected{color:red}.org-org-default{color:#000;background-color:#fff}.org-org-document-info{color:#191970}.org-org-document-info-keyword{color:#7f7f7f}.org-org-document-title{color:#191970;font-weight:700}.org-org-done{color:#228b22;font-weight:700}.org-org-drawer{color:#00f}.org-org-ellipsis{color:#b8860b;text-decoration:underline}.org-org-footnote{color:#96b4cd;text-decoration:underline}.org-org-formula{color:#b22222}.org-org-habit-alert{background-color:#f5f946}.org-org-habit-alert-future{background-color:#fafca9}.org-org-habit-clear{background-color:#8270f9}.org-org-habit-clear-future{background-color:#d6e4fc}.org-org-habit-overdue{background-color:#f9372d}.org-org-habit-overdue-future{background-color:#fc9590}.org-org-habit-ready{background-color:#4df946}.org-org-habit-ready-future{background-color:#acfca9}.org-org-headline-done{color:#bc8f8f}.org-org-hide{color:#fff}.org-org-latex-and-related{color:#8b4513}.org-org-level-1{color:#edd1c5}.org-org-level-2{color:#ebebb7}.org-org-level-3{color:#cce8cc}.org-org-level-4{color:#c9deec}.org-org-level-5{color:#dce3e8}.org-org-level-6{color:#dde6dd}.org-org-level-7{color:#e8e8ce}.org-org-level-8{color:#e8dedb}.org-org-link{color:#c5d2dc;text-decoration:underline}.org-org-list-dt{font-weight:700}.org-org-macro{color:#8b4513}.org-org-meta-line{color:#b22222}.org-org-mode-line-clock{color:#000;background-color:#bfbfbf}.org-org-mode-line-clock-overrun{color:#000;background-color:red}.org-org-priority{color:#a020f0}.org-org-quote{color:#7f7f7f}.org-org-ref-acronym{color:#ee7600;text-decoration:underline}.org-org-ref-cite{color:#c3d5c3;text-decoration:underline}.org-org-ref-glossary{color:#8968cd;text-decoration:underline}.org-org-ref-label{color:#8b008b;text-decoration:underline}.org-org-ref-ref{color:#e1cc96;text-decoration:underline}.org-org-scheduled{color:#006400}.org-org-scheduled-previously{color:#b22222}.org-org-scheduled-today{color:#006400}.org-org-sexp-date{color:#a020f0}.org-org-special-keyword{color:#88949f}.org-org-table{color:#00f}.org-org-tag,.org-org-tag-group{font-weight:700}.org-org-target{text-decoration:underline}.org-org-time-grid{color:#b8860b}.org-org-todo{color:red;font-weight:700}.org-org-upcoming-deadline{color:#b22222}.org-org-verbatim,.org-org-verse{color:#7f7f7f}.org-org-warning{color:red;font-weight:700}.org-outline-1{color:#00f}.org-outline-2{color:sienna}.org-outline-3{color:#a020f0}.org-outline-4{color:#b22222}.org-outline-5{color:#228b22}.org-outline-6{color:#008b8b}.org-outline-7{color:#483d8b}.org-outline-8{color:#8b2252}.org-package-description{color:#000;background-color:#fff}.org-package-name{color:#3a5fcd;text-decoration:underline}.org-package-status-avail-obso{color:#b22222}.org-package-status-available{color:#000;background-color:#fff}.org-package-status-built-in{color:#483d8b}.org-package-status-dependency{color:#b22222}.org-package-status-disabled{color:red;font-weight:700}.org-package-status-external{color:#483d8b}.org-package-status-held{color:#008b8b}.org-package-status-incompat,.org-package-status-installed{color:#b22222}.org-package-status-unsigned{color:red;font-weight:700}.org-pdf-isearch-batch{background-color:#ff0}.org-pdf-isearch-lazy{background-color:#afeeee}.org-pdf-isearch-match{color:#b0e2ff;background-color:#cd00cd}.org-pdf-occur-document{color:#8b2252}.org-pdf-occur-page{color:#228b22}.org-pdf-view-rectangle{background-color:#b4eeb4}.org-pdf-view-region{background-color:gtk_selection_bg_color}.org-powerline-active0{color:#000;background-color:#bfbfbf}.org-powerline-active1{color:#fff;background-color:#2b2b2b}.org-powerline-active2{color:#fff;background-color:#666}.org-powerline-inactive0{color:#333;background-color:#e5e5e5}.org-powerline-inactive1{color:#333;background-color:#1c1c1c}.org-powerline-inactive2{color:#333;background-color:#333}.org-preprocessor{color:#483d8b}.org-query-replace{color:#b0e2ff;background-color:#cd00cd}.org-rainbow-delimiters-depth-1{color:#ffdead}.org-rainbow-delimiters-depth-2{color:#00bfff}.org-rainbow-delimiters-depth-3{color:#ffdead}.org-rainbow-delimiters-depth-4{color:#00bfff}.org-rainbow-delimiters-depth-5{color:#ffdead}.org-rainbow-delimiters-depth-6{color:#00bfff}.org-rainbow-delimiters-depth-7{color:#ffdead}.org-rainbow-delimiters-depth-8{color:#00bfff}.org-rainbow-delimiters-depth-9{color:#ffdead}.org-rainbow-delimiters-unmatched{color:#88090b}.org-reb-match-0{background-color:#add8e6}.org-reb-match-1{background-color:#7fffd4}.org-reb-match-2{background-color:#00ff7f}.org-reb-match-3{background-color:#ff0}.org-rectangle-preview{background-color:gtk_selection_bg_color}.org-regexp-grouping-backslash,.org-regexp-grouping-construct{font-weight:700}.org-region{background-color:gtk_selection_bg_color}.org-secondary-selection{background-color:#ff0}.org-semantic-highlight-edits,.org-semantic-highlight-func-current-tag{background-color:#e5e5e5}.org-semantic-unmatched-syntax{text-decoration:underline}.org-sgml-namespace{color:#483d8b}.org-sh-escaped-newline{color:#8b2252}.org-sh-heredoc{color:#ee0}.org-sh-quoted-exec{color:#f0f}.org-shadow{color:#7f7f7f}.org-show-paren-match{background-color:#40e0d0}.org-show-paren-mismatch{color:#fff;background-color:#a020f0}.org-sp-pair-overlay,.org-sp-show-pair-enclosing{background-color:#b4eeb4}.org-sp-show-pair-match{background-color:#40e0d0}.org-sp-show-pair-mismatch{color:#fff;background-color:#a020f0}.org-sp-wrap-overlay{background-color:#b4eeb4}.org-sp-wrap-overlay-closing-pair{color:red;background-color:#b4eeb4}.org-sp-wrap-overlay-opening-pair{color:#0f0;background-color:#b4eeb4}.org-sp-wrap-tag-overlay{background-color:#b4eeb4}.org-spaceline-flycheck-error{color:#fc5c94;background-color:#333}.org-spaceline-flycheck-info{color:#8de6f7;background-color:#333}.org-spaceline-flycheck-warning{color:#f3ea98;background-color:#333}.org-spaceline-python-venv{color:#fbf}.org-speedbar-button{color:#008b00}.org-speedbar-directory{color:#00008b}.org-speedbar-file{color:#008b8b}.org-speedbar-highlight{background-color:#0f0}.org-speedbar-selected{color:red;text-decoration:underline}.org-speedbar-separator{color:#fff;background-color:#00f;text-decoration:overline}.org-speedbar-tag{color:brown}.org-string{color:#8b2252}.org-success{color:#228b22;font-weight:700}.org-table-cell{color:#e5e5e5;background-color:#00f}.org-tex-math{color:#8b2252}.org-tool-bar{color:#000;background-color:#bfbfbf}.org-tooltip{color:#000;background-color:#ffffe0}.org-trailing-whitespace{background-color:red}.org-tty-menu-disabled{color:#d3d3d3;background-color:#00f}.org-tty-menu-enabled{color:#ff0;background-color:#00f;font-weight:700}.org-tty-menu-selected{background-color:red}.org-type{color:#228b22}.org-underline{text-decoration:underline}.org-undo-tree-visualizer-active-branch{color:#000;font-weight:700}.org-undo-tree-visualizer-current{color:red}.org-undo-tree-visualizer-default{color:#bebebe}.org-undo-tree-visualizer-register{color:#ff0}.org-undo-tree-visualizer-unmodified{color:#0ff}.org-variable-name{color:sienna}.org-vhlXdefault{background-color:#ff0}.org-warning{color:#ff8c00;font-weight:700}.org-warning-1{color:red;font-weight:700}.org-wgrep{color:#fff;background-color:#228b22}.org-wgrep-delete{color:pink;background-color:#228b22}.org-wgrep-done{color:#00f}.org-wgrep-file{color:#fff;background-color:#228b22}.org-wgrep-reject{color:red;font-weight:700}.org-which-key-command-description{color:#00f}.org-which-key-docstring{color:#b22222}.org-which-key-group-description{color:#a020f0}.org-which-key-highlighted-command{color:#00f;text-decoration:underline}.org-which-key-key{color:#008b8b}.org-which-key-local-map-description{color:#00f}.org-which-key-note,.org-which-key-separator{color:#b22222}.org-which-key-special-key{color:#008b8b;font-weight:700}.org-whitespace-big-indent{color:#b22222;background-color:red}.org-whitespace-empty{color:#b22222;background-color:#ff0}.org-whitespace-hspace{color:#d3d3d3;background-color:#cdc9a5}.org-whitespace-indentation{color:#b22222;background-color:#ff0}.org-whitespace-line{color:violet;background-color:#333}.org-whitespace-newline{color:#d3d3d3}.org-whitespace-space{color:#d3d3d3;background-color:#ffffe0}.org-whitespace-space-after-tab{color:#b22222;background-color:#ff0}.org-whitespace-space-before-tab{color:#b22222;background-color:#ff8c00}.org-whitespace-tab{color:#d3d3d3;background-color:beige}.org-whitespace-trailing{color:#ff0;background-color:red;font-weight:700}.org-widget-button{font-weight:700}.org-widget-button-pressed{color:red}.org-widget-documentation{color:#006400}.org-widget-field{background-color:#d9d9d9}.org-widget-inactive{color:#7f7f7f}.org-widget-single-line-field{background-color:#d9d9d9}.org-window-divider{color:#999}.org-window-divider-first-pixel{color:#ccc}.org-window-divider-last-pixel{color:#666}a{color:inherit;background-color:inherit;font:inherit;text-decoration:inherit}a:hover{text-decoration:underline}body{width:95%;margin:2% auto;font-size:14px;line-height:1.4em;font-family:Georgia,serif;color:#333}@media screen and (min-width:600px){body{font-size:18px}}@media screen and (min-width:910px){body{width:900px}}::selection{background:#d6edff}p{margin:1em auto}dl,ol,ul{margin:0 auto}.title{text-align:center;margin:.8em auto;color:#000}.subtitle{text-align:center;font-size:1.1em;line-height:1.4;font-weight:700;margin:1em auto}.abstract{margin:auto;width:80%;font-style:italic}.abstract p:last-of-type:before{content:"    ";white-space:pre}.status{font-size:90%;margin:2em auto}[class^=section-number-]{margin-right:.5em}[id^=orgheadline]{clear:both}#footnotes{font-size:90%}.footpara{display:inline;margin:.2em auto}.footdef{margin-bottom:1em}.footdef sup{padding-right:.5em}a{color:#527d9a;text-decoration:none}a:hover{color:#035;border-bottom:1px dotted}figure{padding:0;margin:1em auto;text-align:center}img{max-width:100%;vertical-align:middle}.MathJax_Display{margin:0!important;width:90%!important}h1,h2,h3,h4,h5,h6{color:#a5573e;line-height:1em;font-family:Helvetica,sans-serif}h1,h2,h3{line-height:1.4em}h4,h5,h6{font-size:1em}@media screen and (min-width:600px){h1{font-size:2em}h2{font-size:1.5em}h3{font-size:1.3em}h1,h2,h3{line-height:1.4em}h4,h5,h6{font-size:1.1em}}dt{font-weight:700}table{margin:1em auto;border-top:2px solid;border-bottom:2px solid;border-collapse:collapse}thead{border-bottom:2px solid}table td+td,table th+th{border-left:1px solid grey}table tr{border-top:1px solid #d3d3d3}td,th{padding:.3em .6em;vertical-align:middle}caption.t-above{caption-side:top}caption.t-bottom{caption-side:bottom}caption{margin-bottom:.3em}figcaption{margin-top:.3em}th.org-center,th.org-left,th.org-right{text-align:center}td.org-right{text-align:right}td.org-left{text-align:left}td.org-center{text-align:center}blockquote{margin:1em 2em;padding-left:1em;border-left:3px solid #ccc}kbd{background-color:#f7f7f7;font-size:80%;margin:0 .1em;padding:.1em .6em}.todo{background-color:red;color:#fff;padding:.1em .3em;border-radius:3px;background-clip:padding-box;font-size:80%;font-family:Lucida Console,monospace;line-height:1}.done{background-color:green;color:#fff;padding:.1em .3em;border-radius:3px;background-clip:padding-box;font-size:80%;font-family:Lucida Console,monospace;line-height:1}.priority{color:orange;font-family:Lucida Console,monospace}#table-of-contents li{clear:both}.tag{font-family:Lucida Console,monospace;font-size:.7em;font-weight:400}.tag span{padding:.3em;float:right;margin-right:.5em;border:1px solid #bbb;border-radius:3px;background-clip:padding-box;color:#333;background-color:#eee;line-height:1}.timestamp{color:#bebebe;font-size:90%}.timestamp-kwd{color:#5f9ea0}.org-right{margin-left:auto;margin-right:0;text-align:right}.org-left{margin-left:0;margin-right:auto;text-align:left}.org-center{margin-left:auto;margin-right:auto;text-align:center}.underline{text-decoration:underline}#postamble p,#preamble p{font-size:90%;margin:.2em}p.verse{margin-left:3%}:not(pre)>code{padding:2px 5px;margin:auto 1px;border:1px solid #ddd;border-radius:3px;background-clip:padding-box;color:#333;font-size:80%}.org-src-container{border:1px solid #ccc;box-shadow:3px 3px 3px #eee;font-family:Lucida Console,monospace;font-size:80%;margin:1em auto;padding:.1em .5em;position:relative}.org-src-container>pre{overflow:auto}.org-src-container>pre:before{display:block;position:absolute;background-color:#b3b3b3;top:0;right:0;padding:0 .5em;border-bottom-left-radius:8px;border:0;color:#fff;font-size:80%}.org-src-container>pre.src-sh:before{content:"sh"}.org-src-container>pre.src-bash:before{content:"bash"}.org-src-container>pre.src-emacs-lisp:before{content:"Emacs Lisp"}.org-src-container>pre.src-R:before{content:"R"}.org-src-container>pre.src-cpp:before{content:"C++"}.org-src-container>pre.src-c:before{content:"C"}.org-src-container>pre.src-html:before{content:"HTML"}.org-src-container>pre.src-javascript:before,.org-src-container>pre.src-js:before{content:"Javascript"}// More languages 0% http://orgmode.org/worg/org-contrib/babel/languages.html .org-src-container>pre.src-abc:before{content:"ABC"}.org-src-container>pre.src-asymptote:before{content:"Asymptote"}.org-src-container>pre.src-awk:before{content:"Awk"}.org-src-container>pre.src-C:before{content:"C"}.org-src-container>pre.src-calc:before{content:"Calc"}.org-src-container>pre.src-clojure:before{content:"Clojure"}.org-src-container>pre.src-comint:before{content:"comint"}.org-src-container>pre.src-css:before{content:"CSS"}.org-src-container>pre.src-D:before{content:"D"}.org-src-container>pre.src-ditaa:before{content:"Ditaa"}.org-src-container>pre.src-dot:before{content:"Dot"}.org-src-container>pre.src-ebnf:before{content:"ebnf"}.org-src-container>pre.src-forth:before{content:"Forth"}.org-src-container>pre.src-F90:before{content:"Fortran"}.org-src-container>pre.src-gnuplot:before{content:"Gnuplot"}.org-src-container>pre.src-haskell:before{content:"Haskell"}.org-src-container>pre.src-io:before{content:"Io"}.org-src-container>pre.src-java:before{content:"Java"}.org-src-container>pre.src-latex:before{content:"LaTeX"}.org-src-container>pre.src-ledger:before{content:"Ledger"}.org-src-container>pre.src-ly:before{content:"Lilypond"}.org-src-container>pre.src-lisp:before{content:"Lisp"}.org-src-container>pre.src-makefile:before{content:"Make"}.org-src-container>pre.src-matlab:before{content:"Matlab"}.org-src-container>pre.src-max:before{content:"Maxima"}.org-src-container>pre.src-mscgen:before{content:"Mscgen"}.org-src-container>pre.src-Caml:before{content:"Objective"}.org-src-container>pre.src-octave:before{content:"Octave"}.org-src-container>pre.src-org:before{content:"Org"}.org-src-container>pre.src-perl:before{content:"Perl"}.org-src-container>pre.src-picolisp:before{content:"Picolisp"}.org-src-container>pre.src-plantuml:before{content:"PlantUML"}.org-src-container>pre.src-python:before{content:"Python"}.org-src-container>pre.src-ruby:before{content:"Ruby"}.org-src-container>pre.src-sass:before{content:"Sass"}.org-src-container>pre.src-scala:before{content:"Scala"}.org-src-container>pre.src-scheme:before{content:"Scheme"}.org-src-container>pre.src-screen:before{content:"Screen"}.org-src-container>pre.src-sed:before{content:"Sed"}.org-src-container>pre.src-shell:before{content:"shell"}.org-src-container>pre.src-shen:before{content:"Shen"}.org-src-container>pre.src-sql:before{content:"SQL"}.org-src-container>pre.src-sqlite:before{content:"SQLite"}.org-src-container>pre.src-stan:before{content:"Stan"}.org-src-container>pre.src-vala:before{content:"Vala"}.org-src-container>pre.src-axiom:before{content:"Axiom"}.org-src-container>pre.src-browser:before{content:"HTML"}.org-src-container>pre.src-cypher:before{content:"Neo4j"}.org-src-container>pre.src-elixir:before{content:"Elixir"}.org-src-container>pre.src-request:before{content:"http"}.org-src-container>pre.src-ipython:before{content:"iPython"}.org-src-container>pre.src-kotlin:before{content:"Kotlin"}.org-src-container>pre.src-Flavored Erlang lfe:before{content:"Lisp"}.org-src-container>pre.src-mongo:before{content:"MongoDB"}.org-src-container>pre.src-prolog:before{content:"Prolog"}.org-src-container>pre.src-rec:before{content:"rec"}.org-src-container>pre.src-ML sml:before{content:"Standard"}.org-src-container>pre.src-Translate translate:before{content:"Google"}.org-src-container>pre.src-typescript:before{content:"Typescript"}.org-src-container>pre.src-rust:before{content:"Rust"}.inlinetask{background:#ffc;border:2px solid grey;margin:10px;padding:10px}#org-div-home-and-up{font-size:70%;text-align:right;white-space:nowrap}.linenr{font-size:90%}.code-highlighted{background-color:#ff0}#bibliography{font-size:90%}#bibliography table{width:100%}.creator{display:block}@media screen and (min-width:600px){.creator{display:inline;float:right}}
</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.cacheClassElem = elem.className;
         elem.cacheClassTarget = target.className;
         target.className = "code-highlighted";
         elem.className   = "code-highlighted";
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(elem.cacheClassElem)
         elem.className = elem.cacheClassElem;
       if(elem.cacheClassTarget)
         target.className = elem.cacheClassTarget;
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Combine</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org167d0ca">1. FRP (Functional Reactive Programming</a></li>
<li><a href="#org2bf6b33">2. Combine Framework</a>
<ul>
<li><a href="#orgacfaae1">2.1. 命令式程式設計 (Imperative Programming) v.s. Functional Reactive Programming</a></li>
<li><a href="#org285ac8d">2.2. 時間性的序列 (Temporal Sequence)</a></li>
</ul>
</li>
<li><a href="#org2696564">3. Using Combine</a></li>
<li><a href="#org5a02376">4. Operator</a>
<ul>
<li><a href="#org0334113">4.1. Cancelable</a></li>
<li><a href="#orgb7dd48f">4.2. Publisher 與 Subscriber 的生命週期</a></li>
<li><a href="#orgea6c7e1">4.3. Marble diagram</a>
<ul>
<li><a href="#org64bbd5a">4.3.1. 使用符號</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgbbc85e1">5. Resource</a></li>
</ul>
</div>
</div>

<div id="outline-container-org167d0ca" class="outline-2">
<h2 id="org167d0ca"><span class="section-number-2">1</span> FRP (Functional Reactive Programming</h2>
<div class="outline-text-2" id="text-1">
<p>
Functional reactive programming (FRP) is a programming paradigm for reactive programming (asynchronous dataflow programming) using the building blocks of functional programming (e.g. map, reduce, filter). FRP has been used for programming graphical user interfaces (GUIs), robotics, games, and music, aiming to simplify these problems by explicitly modeling time<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>.
</p>

<p>
假設我們修改了網頁表單內的內容，並希望改變的值能夠「即時」反映在 UI 上頭。最直覺的做法就是在 input 當中監聽 input（或 change）事件，然後讓 UI 上的值改變。
</p>

<div class="org-src-container">
<pre class="src src-javascript"><span class="linenr">1: </span>input.addEventListener(<span style="color: #98be65;">'change'</span>, e =&gt; {
<span class="linenr">2: </span>  price.textContent = e.target.value;
<span class="linenr">3: </span>});
<span class="linenr">4: </span>
</pre>
</div>

<p>
以剛剛的例子來說，我們透過 addEventListener 監聽 input，再將 input 的值綁定到 UI 上（或是資料上）。這是一種很常見且有效的方式，對於 input 來說，只要乖乖地將事件吐出來就好，不需要知道其他事。
</p>

<p>
但在 UI 上，這樣的案例似乎過於理想。例如我們在實作打折的計算時，恐怕需要根據 1. 價格 2. 折數 來決定最終數字，這樣就需要在 UI 上加入兩個監聽器。一旦來源變多了之後，恐怕會難以 debug，因為你不知道哪些 event listener 造成數據變化；而且 UI 上的變化可能依賴於不只一個事件。
</p>

<div class="org-src-container">
<pre class="src src-javascript"><span class="linenr">1: </span>input.addEventListener(<span style="color: #98be65;">'change'</span>, e =&gt; {
<span class="linenr">2: </span>  price.textContent = e.target.value;
<span class="linenr">3: </span>
<span class="linenr">4: </span>  <span style="color: #5B6268;">// </span><span style="color: #5B6268;">update UI part B</span>
<span class="linenr">5: </span>  <span style="color: #5B6268;">// </span><span style="color: #5B6268;">update UI part C</span>
<span class="linenr">6: </span>  <span style="color: #5B6268;">// </span><span style="color: #5B6268;">...</span>
<span class="linenr">7: </span>});
</pre>
</div>

<p>
或者這個事件的發佈，不只會更新一個地方的 UI，也會讓數個 UI 更新，這時事件處理器就會變得比較複雜一些。因此在處理上，有時會用另外一種方式 — data binding 來做處理。在 UI 產生的時候，就先將 UI 上的顯示與數據綁定在一起，在數據改變的時候，UI 做對應的處理。
</p>

<p>
FRP看似神秘，是因為它混合了多種概念：Reactive是其目的，也就是強調必須即時地反應變化，非同步是達到此目的之手段，為了能讓客戶端訂閱感興趣的資料流，採用了觀察者模式，為了能讓開發者不落入如何處理（事件）資料的繁雜程式邏輯中，採用了函數式的典範，隱藏了（事件）資料的迭代、轉換等細節，從而能讓開發者根據規格進行宣告，以突顯出程式本身的意圖<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>。
</p>
</div>
</div>

<div id="outline-container-org2bf6b33" class="outline-2">
<h2 id="org2bf6b33"><span class="section-number-2">2</span> Combine Framework</h2>
<div class="outline-text-2" id="text-2">
<p>
Combine Framework為Apple於WWDC2019推出的官方FRP框架。
Combine 框架主要分成發布者 (Publisher)、操作者 (Operator)、和訂閱者 (Subscriber) 三大部分。我們可以透過這三種元件的組裝，來建立各式各樣的訂閱關係 (Subscription)<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>。
</p>
</div>

<div id="outline-container-orgacfaae1" class="outline-3">
<h3 id="orgacfaae1"><span class="section-number-3">2.1</span> 命令式程式設計 (Imperative Programming) v.s. Functional Reactive Programming<sup><a id="fnr.3.100" class="footref" href="#fn.3">3</a></sup></h3>
<div class="outline-text-3" id="text-2-1">
<p>
同樣是做一個網路呼叫:
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr"> 1: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#19968;&#33324;&#30340;&#21629;&#20196;&#24335;&#23531;&#27861;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">let</span> task = <span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTask</span>(with: url, completionHandler: { data, response, error <span style="color: #51afef;">in</span>
<span class="linenr"> 3: </span>    <span style="color: #51afef;">if</span> <span style="color: #51afef;">let</span> data = data {
<span class="linenr"> 4: </span>        <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...</span>
<span class="linenr"> 5: </span>    }
<span class="linenr"> 6: </span>})
<span class="linenr"> 7: </span>task.<span style="color: #c678dd;">resume</span>()
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">Combine &#30340;&#23459;&#21578;&#24335;&#23531;&#27861;</span>
<span class="linenr">10: </span><span style="color: #51afef;">let</span> subscription = <span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTaskPublisher</span>(<span style="color: #51afef;">for</span>: url)
<span class="linenr">11: </span>    .<span style="color: #c678dd;">map</span> { $0.<span style="color: #c678dd;">data</span> }
<span class="linenr">12: </span>    .<span style="color: #c678dd;">sink</span>(receiveCompletion: { completion <span style="color: #51afef;">in</span> <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; completion...  },</span>
<span class="linenr">13: </span>          receiveValue: { data <span style="color: #51afef;">in</span> <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...  })</span>
</pre>
</div>
<p>
在命令式寫法中，我們是把 url 跟一個名為 completionHandler 的閉包放進 dataTask(with:completionHandler:) 裡面。呼叫之後，我們取回一個 URLSessionDataTask，並以此來控制網路呼叫的生命週期（開始、取消等）。
</p>

<p>
但是在宣告式寫法中，以上的做法都被打破、重組了。風格上來說，不同的陳述句被整合在一起，變成中間有斷行的同一個句子。completionHandler 被拆解成更小的閉包，並且少了 if、else 等控制流 (Control Flow) 語法。另一方面，則是多了 map(_:)、sink(receiveCompletion:receiveValue:) 等可以連鎖呼叫的方法。
</p>
</div>
</div>

<div id="outline-container-org285ac8d" class="outline-3">
<h3 id="org285ac8d"><span class="section-number-3">2.2</span> 時間性的序列 (Temporal Sequence)</h3>
<div class="outline-text-3" id="text-2-2">
<p class="verse">
The Combine framework provides a declarative Swift API for processing values over time. These values can represent many kinds of asynchronous events.<br />
</p>
<p>
values over time 就可以解釋成「隨著時間推移而存在的多個值」。而如果我們把「多個值」以序列 (Sequence) 來表示的話，它也可以被描述為「時間性的序列」。事實上，這也就是 Streams 的概念。Combine 提供了宣告形式的 Swift API，主要處理隨時間處理值變化(各種異步行程產出的事件)。發布者(publisher) 產出可隨時間變化的值，訂閱者(subscriber) 從發布者接收這些值。
</p>

<p>
Publisher 的角色是提供數據, 不論是被動請求或是主動提供. 其中有兩個 container 泛型, Output 與 Failure. subscriber 同時也有泛型, Input 與 Failure. Publishers 和 subscribers 必須互相連接才能運作. 而當連接一個 subscriber 到 任何 publisher 時, 所有相對應的資料型別都必須相同: Output 與 Input 對應, Failure 對應 Failure.
</p>
</div>
</div>
</div>

<div id="outline-container-org2696564" class="outline-2">
<h2 id="org2696564"><span class="section-number-2">3</span> Using Combine</h2>
<div class="outline-text-2" id="text-3">
<p>
對照Combine的三大元件: Publisher, Operator, Subscriber，一支下載網頁資源的程式可視拆解為:
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr">1: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">4. &#35330;&#38321;&#38364;&#20418;</span>
<span class="linenr">2: </span><span style="color: #51afef;">let</span> subscription =
<span class="linenr">3: </span>    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">1. &#30332;&#24067;&#32773;</span>
<span class="linenr">4: </span>    <span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTaskPublisher</span>(<span style="color: #51afef;">for</span>: url)
<span class="linenr">5: </span>    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">2. &#25805;&#20316;&#32773;</span>
<span class="linenr">6: </span>    .<span style="color: #c678dd;">map</span> { $0.<span style="color: #c678dd;">data</span> }
<span class="linenr">7: </span>    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">3. &#35330;&#38321;&#32773;</span>
<span class="linenr">8: </span>    .<span style="color: #c678dd;">sink</span>(receiveCompletion: { completion <span style="color: #51afef;">in</span> <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; completion...  },</span>
<span class="linenr">9: </span>          receiveValue: { data <span style="color: #51afef;">in</span> <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...  })</span>
</pre>
</div>
<ol class="org-ol">
<li>回傳一個發布者結構體。發布者代表的，是值的產生源頭。</li>
<li>使用 map(_:) 與其它操作者方法，來對發布者產生的值做變動。</li>
<li>使用 sink(receiveCompletion:receiveValue:) 等訂閱者方法，來處理最後拿到的值，並且啟動與發布者之間的訂閱關係。<sup><a id="fnr.2.100" class="footref" href="#fn.2">2</a></sup></li>
<li>代表訂閱關係的實體，可以用來取消訂閱。</li>
</ol>

<p>
上述程式係係由不同的寫法演化而成：
</p>

<ol class="org-ol">
<li><p>
一般寫法
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr">1: </span><span style="color: #51afef;">let</span> task = <span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTask</span>(with: url) { data, response, error <span style="color: #51afef;">in</span>
<span class="linenr">2: </span>    <span style="color: #51afef;">if</span> <span style="color: #51afef;">let</span> data = data {
<span class="linenr">3: </span>        <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...</span>
<span class="linenr">4: </span>    }
<span class="linenr">5: </span>}
<span class="linenr">6: </span>task.<span style="color: #c678dd;">resume</span>()
</pre>
</div></li>

<li><p>
把整段程式碼包到一個closure
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr"> 1: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#30456;&#30070;&#26044;&#24314;&#36896;&#32773;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">let</span> subscribe = {
<span class="linenr"> 3: </span>    <span style="color: #51afef;">let</span> task = <span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTask</span>(with: url) { data, response, error <span style="color: #51afef;">in</span>
<span class="linenr"> 4: </span>        <span style="color: #51afef;">if</span> <span style="color: #51afef;">let</span> data = data {
<span class="linenr"> 5: </span>            <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...</span>
<span class="linenr"> 6: </span>        }
<span class="linenr"> 7: </span>    }
<span class="linenr"> 8: </span>    task.<span style="color: #c678dd;">resume</span>()
<span class="linenr"> 9: </span>}
<span class="linenr">10: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#30456;&#30070;&#26044;&#24314;&#36896;&#32773;&#30340; build()</span>
<span class="linenr">11: </span><span style="color: #c678dd;">subscribe</span>()
</pre>
</div></li>

<li><p>
這段closure應該要可以注入一個 completionHandler，否則我們就完全無法更動它，獲得伺服器回應之後的行為了
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr"> 1: </span><span style="color: #51afef;">let</span> subscribe = { (dataHandler: <span style="color: #51afef;">@escaping</span> (<span style="color: #c678dd;">Data</span>) -&gt; <span style="color: #c678dd;">Void</span>) <span style="color: #51afef;">in</span>
<span class="linenr"> 2: </span>    <span style="color: #51afef;">let</span> task = <span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTask</span>(with: url) { data, response, error <span style="color: #51afef;">in</span>
<span class="linenr"> 3: </span>        <span style="color: #51afef;">if</span> <span style="color: #51afef;">let</span> data = data {
<span class="linenr"> 4: </span>            <span style="color: #c678dd;">dataHandler</span>(data)
<span class="linenr"> 5: </span>        }
<span class="linenr"> 6: </span>    }
<span class="linenr"> 7: </span>    task.<span style="color: #c678dd;">resume</span>()
<span class="linenr"> 8: </span>}
<span class="linenr"> 9: </span>subscribe { data <span style="color: #51afef;">in</span>
<span class="linenr">10: </span>    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...</span>
<span class="linenr">11: </span>}
</pre>
</div></li>

<li><p>
以struct實作
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr"> 1: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#30452;&#25509;&#25226;&#31243;&#24335;&#30908;&#29992;&#19968;&#20491; struct &#21253;&#36215;&#20358;&#12290;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">Publisher</span> {
<span class="linenr"> 3: </span>    <span style="color: #51afef;">let</span> subscribe = { (dataHandler: <span style="color: #51afef;">@escaping</span> (<span style="color: #c678dd;">Data</span>) -&gt; <span style="color: #c678dd;">Void</span>) <span style="color: #51afef;">in</span>
<span class="linenr"> 4: </span>        <span style="color: #51afef;">let</span> task = <span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTask</span>(with: url) { data, response, error <span style="color: #51afef;">in</span>
<span class="linenr"> 5: </span>            <span style="color: #51afef;">if</span> <span style="color: #51afef;">let</span> data = data {
<span class="linenr"> 6: </span>                <span style="color: #c678dd;">dataHandler</span>(data)
<span class="linenr"> 7: </span>            }
<span class="linenr"> 8: </span>        }
<span class="linenr"> 9: </span>        task.<span style="color: #c678dd;">resume</span>()
<span class="linenr">10: </span>    }
<span class="linenr">11: </span>}
<span class="linenr">12: </span>
<span class="linenr">13: </span><span style="color: #c678dd;">Publisher</span>().<span style="color: #c678dd;">subscribe</span> { data <span style="color: #51afef;">in</span>
<span class="linenr">14: </span>    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...</span>
<span class="linenr">15: </span>}
</pre>
</div></li>

<li><p>
抽象化
把subscribe 閉包的實作從 Publisher 的定義裡面拿走，只剩型別的描述。如此一來，就可以在每次初始化 Publisher 實體的時候，去提供不同的 subscribe 閉包，支援不同種類的時間性序列了，比如說 NotificationCenter。
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr"> 1: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#25226;&#38281;&#21253;&#30340;&#20839;&#23481;&#21098;&#19979;&#65292;&#21482;&#30041;&#19979;&#38281;&#21253;&#30340;&#22411;&#21029;&#25551;&#36848;&#12290;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">Publisher</span> {
<span class="linenr"> 3: </span>    <span style="color: #51afef;">let</span> subscribe: (<span style="color: #51afef;">@escaping</span> (<span style="color: #c678dd;">Data</span>) -&gt; <span style="color: #c678dd;">Void</span>) -&gt; <span style="color: #c678dd;">Void</span>
<span class="linenr"> 4: </span>}
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#25226;&#38281;&#21253;&#30340;&#20839;&#23481;&#30452;&#25509;&#36028;&#21040; Publisher &#30340;&#24314;&#27083;&#24335;&#24460;&#38754;&#65292;&#28982;&#24460;&#20877;&#25972;&#29702;&#19968;&#19979;&#12290;</span>
<span class="linenr"> 7: </span><span style="color: #c678dd;">Publisher</span> { dataHandler <span style="color: #51afef;">in</span>
<span class="linenr"> 8: </span>    <span style="color: #51afef;">let</span> task = <span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTask</span>(with: url) { data, response, error <span style="color: #51afef;">in</span>
<span class="linenr"> 9: </span>        <span style="color: #51afef;">if</span> <span style="color: #51afef;">let</span> data = data {
<span class="linenr">10: </span>            <span style="color: #c678dd;">dataHandler</span>(data)
<span class="linenr">11: </span>        }
<span class="linenr">12: </span>    }
<span class="linenr">13: </span>    task.<span style="color: #c678dd;">resume</span>()
<span class="linenr">14: </span>}.<span style="color: #c678dd;">subscribe</span> { data <span style="color: #51afef;">in</span>
<span class="linenr">15: </span>    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...</span>
<span class="linenr">16: </span>}
</pre>
</div></li>

<li><p>
如果每次初始化 Publisher，都要重新寫整個 subscribe 實作的話，其實蠻麻煩的。所以，我們可以用工廠方法模式再封裝它：
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr"> 1: </span><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">Publisher</span>&lt;<span style="color: #c678dd;">Value</span>&gt; {
<span class="linenr"> 2: </span>    <span style="color: #51afef;">let</span> subscribe: (<span style="color: #51afef;">@escaping</span> (<span style="color: #c678dd;">Value</span>) -&gt; <span style="color: #c678dd;">Void</span>) -&gt; <span style="color: #c678dd;">Void</span>
<span class="linenr"> 3: </span>}
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#23559;&#24037;&#24288;&#26041;&#27861;&#25918;&#21040; extension &#35041;&#12290;</span>
<span class="linenr"> 6: </span><span style="color: #51afef;">extension</span> <span style="color: #c678dd;">URLSession</span> {
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#23559; url &#30070;&#20316;&#21443;&#25976;&#20659;&#36914;&#21435;&#12290;</span>
<span class="linenr"> 9: </span>    <span style="color: #51afef;">func</span> <span style="color: #c678dd;">dataTaskPublisher</span>(with url: <span style="color: #c678dd;">URL</span>) -&gt; <span style="color: #c678dd;">Publisher</span>&lt;<span style="color: #c678dd;">Data</span>&gt; {
<span class="linenr">10: </span>        <span style="color: #51afef;">return</span> <span style="color: #c678dd;">Publisher</span>&lt;<span style="color: #c678dd;">Data</span>&gt; { valueHandler <span style="color: #51afef;">in</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span>            <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#23559; URLSession.shared &#26367;&#25563;&#25104; self&#12290;</span>
<span class="linenr">13: </span>            <span style="color: #51afef;">let</span> task = <span style="color: #51afef;">self</span>.<span style="color: #c678dd;">dataTask</span>(with: url) { data, response, error <span style="color: #51afef;">in</span>
<span class="linenr">14: </span>                <span style="color: #51afef;">if</span> <span style="color: #51afef;">let</span> data = data {
<span class="linenr">15: </span>                    <span style="color: #c678dd;">valueHandler</span>(data)
<span class="linenr">16: </span>                }
<span class="linenr">17: </span>            }
<span class="linenr">18: </span>            task.<span style="color: #c678dd;">resume</span>()
<span class="linenr">19: </span>        }
<span class="linenr">20: </span>    }
<span class="linenr">21: </span>}
<span class="linenr">22: </span>
<span class="linenr">23: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#21628;&#21483;&#31471;&#30340;&#23531;&#27861;&#12290;</span>
<span class="linenr">24: </span><span style="color: #c678dd;">URLSession</span>.<span style="color: #c678dd;">shared</span>.<span style="color: #c678dd;">dataTaskPublisher</span>(with: url)
<span class="linenr">25: </span>    .<span style="color: #c678dd;">subscribe</span> { data <span style="color: #51afef;">in</span>
<span class="linenr">26: </span>    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">&#34389;&#29702; data...</span>
<span class="linenr">27: </span>}
</pre>
</div></li>
</ol>
</div>
</div>


<div id="outline-container-org5a02376" class="outline-2">
<h2 id="org5a02376"><span class="section-number-2">4</span> Operator</h2>
<div class="outline-text-2" id="text-4">
<p>
About <a href="AdvancedSwiftUI.html#MissingReference">Publisher and Subscriber</a>
Operators 可以轉換 publisher 與 subscriber 之間的數據，如map
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> Combine
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">Publisher</span>
<span class="linenr"> 4: </span><span style="color: #51afef;">let</span> publisher = <span style="color: #c678dd;">Just</span>(<span style="color: #da8548; font-weight: bold;">5</span>)
<span class="linenr"> 5: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">Operator</span>
<span class="linenr"> 6: </span><span style="color: #51afef;">let</span> publisherString = publisher
<span class="linenr"> 7: </span>  .<span style="color: #c678dd;">map</span>{$0.<span style="color: #c678dd;">description</span>}
<span class="linenr"> 8: </span><span style="color: #51afef;">let</span> publisherDouble = publisher
<span class="linenr"> 9: </span>  .<span style="color: #c678dd;">map</span>{<span style="color: #c678dd;">Double</span>($0)}
<span class="linenr">10: </span><span style="color: #5B6268;">// </span><span style="color: #5B6268;">Subscriber</span>
<span class="linenr">11: </span><span style="color: #51afef;">let</span> subcriber = publisher
<span class="linenr">12: </span>  .<span style="color: #c678dd;">sink</span>(receiveValue: {<span style="color: #c678dd;">print</span>($0)})        <span style="color: #5B6268;">// </span><span style="color: #5B6268;">5</span>
<span class="linenr">13: </span><span style="color: #51afef;">let</span> anotherScriber = publisherDouble
<span class="linenr">14: </span>  .<span style="color: #c678dd;">sink</span>(receiveValue: {<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"Another"</span>,$0)})         <span style="color: #5B6268;">//</span><span style="color: #5B6268;">Another 5.0</span>
<span class="linenr">15: </span>
</pre>
</div>

<pre class="example">
5
Another 5.0
</pre>
</div>

<div id="outline-container-org0334113" class="outline-3">
<h3 id="org0334113"><span class="section-number-3">4.1</span> Cancelable</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Combine 之中, Publisher 是資料來源, Subscriber 是控制資料流的操作員, Subscriber 可以限制接收的資料信息量, 透過 Demand (需求), 使 Subscriber 得以在連接 Publisher 之後, 得到透過 Pipeline 處理後的資料.
</p>

<p>
Combine 同時使 Subscriber 可以取消(cancel) Demand 的要求, 在 Combine 里, 所有的 Subscriber 都具備 Cancelable, 每個 Subscriber 都可以透過 Cancel() 函式, 取消 Publisher 或 pipeline 的 連接.
</p>
</div>
</div>

<div id="outline-container-orgb7dd48f" class="outline-3">
<h3 id="orgb7dd48f"><span class="section-number-3">4.2</span> Publisher 與 Subscriber 的生命週期</h3>
<div class="outline-text-3" id="text-4-2">
<ol class="org-ol">
<li>Publisher 透過 .subscribe(Subscriber), 將指定的 Subscriber 連接在一起.</li>
<li>Publisher 透過 Combine 的架構, 利用 subscriber.receive(subscription), 將 Publisher 與 subscriber 綁定在一起.
<ul class="org-ul">
<li>在綁定事件成立之後, Subscriber 會 .request(_:Demand) 來接收 Publisher 的資料.</li>
<li>同時, Publisher 可以透過 .received(_:Input) 的方式將資料給 Subscriber, 但是會將數量限制在 Subscriber 的 demand 之下.</li>
<li>Subscriber 可以在任何時候使用 .cancel()來結束綁定的生命週期.</li>
</ul></li>
<li>Publisher 可在錯誤產生時用 receive(completion:)做處理.</li>
</ol>
</div>
</div>

<div id="outline-container-orgea6c7e1" class="outline-3">
<h3 id="orgea6c7e1"><span class="section-number-3">4.3</span> Marble diagram</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-org64bbd5a" class="outline-4">
<h4 id="org64bbd5a"><span class="section-number-4">4.3.1</span> 使用符號</h4>
<div class="outline-text-4" id="text-4-3-1">
<pre class="example">
// 這是註解
- //單位時間, 沒有特別寫會是 1 秒
X //Error 發生
| //代表 Complete normally
source: //表示事件來源
operat: //代表 operation 表示上流事件的轉換
output: //表示最後結果, 只有在 operation 之後才會出現
</pre>
<p>
例如：
</p>
<pre class="example">
// Attach subscribtion then complete without notify
-------------------|
// Attach subscribtion then error occur before any notify
-------------------X
// Attach subscribtion then nothing happen yet
--------------------

</pre>
<p>
with Operator
</p>
<pre class="example">
1.
source: ------1------2------3---|
                map{$0 + 1}
output: ------2------3------4---|

2.
source: ------1------2------3---|
   filter{$0.isMultiple(of: 2)}
output: -------------2----------|

3.
source: ------1------2------3---|
                map{$0 + 1}
operat: ------2------3------4---|
   filter{$0.isMultiple(of: 2)}
output: ------2-------------4---|
</pre>
</div>
</div>
</div>
</div>





<div id="outline-container-orgbbc85e1" class="outline-2">
<h2 id="orgbbc85e1"><span class="section-number-2">5</span> Resource</h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li><a href="https://www.youtube.com/watch?v=YJRApch2cc4&amp;t=1431s">SwiftUI 2.0 &amp; Combine: Building a Form with Inline Error Validation</a></li>
<li><a href="https://peterfriese.dev/replicating-reminder-swiftui-firebase-part1/">SwiftUI, Combine, and Firebase</a></li>
</ul>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
<a href="https://en.wikipedia.org/wiki/Functional_reactive_programming">Functional reactive programming</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
Sink: The dog sank her teeth into (= bit) the ball and ran off with it.
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">
<a href="https://www.appcoda.com.tw/functional-reactive-programming/">從零打造基本版 Combine　認識 Functional Reactive Programming</a>
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: Yung Chin, Yen</p>
<p class="date">Created: 2021-05-12 Wed 20:50</p>
</div>
</body>
</html>
